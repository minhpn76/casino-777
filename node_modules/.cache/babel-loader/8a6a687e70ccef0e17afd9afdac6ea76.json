{"ast":null,"code":"import _regeneratorRuntime from \"/Users/m1/Desktop/source/2022/study-web3-smart-contract/casino-777/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/m1/Desktop/source/2022/study-web3-smart-contract/casino-777/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/m1/Desktop/source/2022/study-web3-smart-contract/casino-777/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/m1/Desktop/source/2022/study-web3-smart-contract/casino-777/src/components/Content/GameDialog.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { observer } from \"mobx-react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Button from \"@material-ui/core/Button\";\nimport { DialogActions } from \"@material-ui/core\";\nimport { appStore } from \"../../store/AppStore\";\nimport { getRandomSlots, getResults } from \"../../common/helpers\";\nimport Slots from \"./GameSlots\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction GameDialog(_ref) {\n  _s();\n\n  var open = _ref.open,\n      setOpen = _ref.setOpen;\n\n  var _React$useState = React.useState([0, 0, 0]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      spinnedSlots = _React$useState2[0],\n      setSpinnedSlots = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      resultText = _React$useState4[0],\n      setResultText = _React$useState4[1];\n\n  var spin = appStore.spin,\n      score = appStore.score;\n\n  var handleGameClose = function handleGameClose() {\n    setResultText(\"\");\n    setSpinnedSlots([0, 0, 0]);\n    setOpen(false);\n  };\n\n  var handleFakeSpin = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var fakeSlots;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              fakeSlots = [7, 7, 7];\n              _context.next = 3;\n              return handleSpin(fakeSlots);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleFakeSpin() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleSpin = function handleSpin() {\n    var slots = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    setResultText(\"\");\n    var randomSlots = slots.length ? slots : getRandomSlots();\n    setSpinnedSlots(randomSlots);\n\n    var _getResults = getResults(randomSlots),\n        amount = _getResults.amount,\n        text = _getResults.text;\n\n    spin({\n      amount: amount,\n      slots: randomSlots\n    });\n    setResultText(text);\n  };\n\n  var isUserHasEnoughScore = function isUserHasEnoughScore() {\n    return score > 1;\n  };\n\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: handleGameClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      id: \"form-dialog-title\",\n      children: \"Lucky Days\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: [/*#__PURE__*/_jsxDEV(Slots, {\n        slots: spinnedSlots\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContentText, {\n        children: isUserHasEnoughScore() ? resultText : \"Sorry. Your limit already finished\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [isUserHasEnoughScore() && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSpin,\n            color: \"primary\",\n            children: \"SPIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleFakeSpin,\n            color: \"primary\",\n            children: \"Get Fake Spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleGameClose,\n          color: \"primary\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GameDialog, \"MuyZDAP+YsxMpBVsnwThOksefA4=\");\n\n_c = GameDialog;\nexport default _c2 = observer(GameDialog);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GameDialog\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","observer","Dialog","DialogContent","DialogContentText","DialogTitle","Button","DialogActions","appStore","getRandomSlots","getResults","Slots","GameDialog","open","setOpen","useState","spinnedSlots","setSpinnedSlots","resultText","setResultText","spin","score","handleGameClose","handleFakeSpin","fakeSlots","handleSpin","slots","randomSlots","length","amount","text","isUserHasEnoughScore"],"sources":["/Users/m1/Desktop/source/2022/study-web3-smart-contract/casino-777/src/components/Content/GameDialog.js"],"sourcesContent":["import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Button from \"@material-ui/core/Button\";\nimport { DialogActions } from \"@material-ui/core\";\n\nimport { appStore } from \"../../store/AppStore\";\nimport { getRandomSlots, getResults } from \"../../common/helpers\";\nimport Slots from \"./GameSlots\";\n\nfunction GameDialog({ open, setOpen }) {\n  const [spinnedSlots, setSpinnedSlots] = React.useState([0, 0, 0]);\n  const [resultText, setResultText] = React.useState(\"\");\n  const { spin, score } = appStore;\n\n  const handleGameClose = () => {\n    setResultText(\"\");\n    setSpinnedSlots([0, 0, 0]);\n    setOpen(false);\n  };\n\n  const handleFakeSpin = async () => {\n    const fakeSlots = [7, 7, 7];\n    await handleSpin(fakeSlots);\n  };\n\n  const handleSpin = (slots = []) => {\n    setResultText(\"\");\n\n    const randomSlots = slots.length ? slots : getRandomSlots();\n\n    setSpinnedSlots(randomSlots);\n\n    const { amount, text } = getResults(randomSlots);\n\n    spin({\n      amount,\n      slots: randomSlots\n    });\n\n    setResultText(text);\n  };\n\n  const isUserHasEnoughScore = () => score > 1;\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleGameClose}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">Lucky Days</DialogTitle>\n      <DialogContent>\n        <Slots slots={spinnedSlots} />\n        <DialogContentText>\n          {isUserHasEnoughScore()\n            ? resultText\n            : \"Sorry. Your limit already finished\"}\n        </DialogContentText>\n\n        <DialogActions>\n          {isUserHasEnoughScore() && (\n            <>\n              <Button onClick={handleSpin} color=\"primary\">\n                SPIN\n              </Button>\n              <Button onClick={handleFakeSpin} color=\"primary\">\n                Get Fake Spin\n              </Button>\n            </>\n          )}\n          <Button onClick={handleGameClose} color=\"primary\">\n            Close\n          </Button>\n        </DialogActions>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nexport default observer(GameDialog);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}